import{b,l as u,A as s,_ as S,k as K,v as m,P as _}from"./index.2be82faf.js";import{g as x,w as I,k as N,E as B,c,a as i,o as n,b as d,d as e,t as f,e as p,F as v,p as h,q as j,s as C}from"./vendor.97463cff.js";class E{async getProfile(a){const t=await b.get("api/profiles/"+a);u.log("[getProfile]",t.data),s.activeProfile=t.data}}const M=new E;const q={name:"Profile",props:{keep:{type:Object,required:!0}},setup(o){x({}),I(()=>{s.profile});const a=N();return B(async()=>{try{await M.getProfile(a.params.id),await K.getKeepsByUserId(a.params.id),await m.getVaultsByUserId(a.params.id)}catch(t){u.error(t),_.toast(t.message)}}),{async createVaults(){try{const t=await m.createVaults({name:"New Vault",description:"New Vault",userId:s.activeProfile});_.toast("Vault created")}catch(t){u.error(t),_.toast(t.message)}},route:a,activeProfile:c(()=>s.activeProfile),profile:c(()=>s.profile),account:c(()=>s.account),keeps:c(()=>s.profileKeeps),vaults:c(()=>s.profileVaults),user:c(()=>s.user)}}},g=o=>(j("data-v-45b6c8d6"),o=o(),C(),o),A={class:"container text-white"},F=g(()=>e("h1",null,"Profile Page",-1)),U=["src"],D={class:"container"},L={class:"row"},O={class:"col-md-6"},R={class:"col-md-6"},z=g(()=>e("div",{class:"border border-white p-1 bg-white my-2"},null,-1)),G={class:"masonry-container-vault"},H={class:"col-md-6"},J={class:"masonry-container"};function Q(o,a,t,r,T,W){const y=i("NewVault"),P=i("CreateKeep"),w=i("Vault"),k=i("Keep"),V=i("KeepModal");return n(),d(v,null,[e("div",A,[F,e("img",{src:r.activeProfile.picture,class:"img-fluid",alt:""},null,8,U),e("h2",null,f(r.profile.name),1),e("h3",null,"keeps: "+f(r.keeps.length),1),e("h3",null,"vaults: "+f(r.vaults.length),1),e("div",D,[e("div",L,[e("div",O,[p(y)]),e("div",R,[p(P)])])])]),z,e("div",G,[(n(!0),d(v,null,h(r.vaults,l=>(n(),d("div",{class:"d-flex justify-content-around py-1",key:l.id},[e("div",H,[p(w,{vault:l},null,8,["vault"])])]))),128))]),e("div",J,[(n(!0),d(v,null,h(r.keeps,l=>(n(),d("div",{key:l.id,class:"p-3"},[p(k,{keep:l},null,8,["keep"])]))),128))]),p(V)],64)}var Z=S(q,[["render",Q],["__scopeId","data-v-45b6c8d6"]]);export{Z as default};
