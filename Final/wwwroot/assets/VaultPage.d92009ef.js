import{k,u as g,E as K,c as l,a as p,o as d,b as c,d as s,e as i,i as b,F as v,p as w}from"./vendor.97463cff.js";import{_ as h,c as j,k as x,v as m,l as _,P as r,A as a}from"./index.ae128ae9.js";const B={name:"Vault",props:{vaultkeep:{type:Object,required:!0},vault:{type:Object,required:!0},props:{keep:{type:Object,required:!0}}},setup(y){const e=k(),n=g();return K(async()=>{try{await j.getVaultKeepsByVaultId(e.params.id),await x.getKeepsByVaultId(e.params.id),await m.getVaultById(e.params.id)}catch(t){_.error(t),r.toast(t.message),n.push({name:"Home"})}}),{vaultKeeps:l(()=>a.vaultKeeps),keeps:l(()=>a.keeps),vaults:l(()=>a.vaults),activeVaults:l(()=>a.activeVault),async deleteVaults(t){try{a.activeVault.creator.id!==a.account.id&&r.toast("You can only delete your own vaults"),await r.confirm()&&(await m.deleteVaults(e.params.id),n.push({name:"Home"}),r.toast("Vault deleted"))}catch(u){_.error(u),r.toast(u.message)}}}}},I={class:"container d-flex justify-content-center"},M={class:"masonry-container"};function P(y,e,n,t,u,S){const V=p("KeepModal"),f=p("Keep");return d(),c(v,null,[s("div",I,[i(V),s("div",null,[s("button",{class:"btn rounded-0 p-3 m-3 btn-danger mdi mdi-delete",onClick:e[0]||(e[0]=b((...o)=>t.deleteVaults&&t.deleteVaults(...o),["prevent"]))},"Delete vault")])]),s("div",M,[s("div",null,[(d(!0),c(v,null,w(t.keeps,o=>(d(),c("div",{class:"p-4",key:o.id},[i(f,{keep:o,class:""},null,8,["keep"])]))),128))])])],64)}var A=h(B,[["render",P],["__scopeId","data-v-3d039969"]]);export{A as default};
